services:
  android-container:  # 定义服务名称，可自定义
    image: budtmo/docker-android:emulator_11.0  # 使用的镜像，指定 Android 11 模拟器版本
    container_name: android-container  # 容器的自定义名称
    restart: always  # 自动重启策略：无论容器如何退出都会自动重启
    ports:  # 端口映射配置
      - "6080:6080"  # 左边是宿主机端口(可自定义) → 右边是容器端口(固定)，用于通过浏览器访问 VNC 界面
    environment:  # 环境变量配置
      - EMULATOR_DEVICE=Samsung Galaxy S10  # 指定模拟的设备型号，这里为三星 Galaxy S10
      - WEB_VNC=true  # 启用 Web VNC，可通过浏览器直接访问 Android 界面
    volumes:  # 数据卷挂载配置
      - ./android_data:/root/.android  # 左边是宿主机存储模拟器数据的目录(可自定义) → 右边是容器中 Android 数据目录(固定)
      - ./apk:/apk                    # 左边是宿主机存放 APK 文件的目录(可自定义) → 右边是容器中的 APK 存储路径(固定)
    devices:  # 硬件设备映射
      - "/dev/kvm:/dev/kvm"  # 启用 KVM 硬件加速，提高模拟器运行性能